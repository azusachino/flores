---
title: 左耳听风
created: 2023-01-04 00:00:00
modified: 2023-03-26 11:19:48
tags: [Column, Tech]
author: 陈皓
read: 29
total: 105
---

## 技术变现

1. 程序员用手艺、技术养活自己，不依靠公司而活
2. 提高工作效率，去研究那些难的，公司内外的核心技术
3. 注重输出，输出技术、价值观，以帮助更多的人，提高自身影响力
4. 关注市场需求、技术趋势
5. 找到能够体现价值的地方
6. 锻炼个人的动手能力
7. 关注技术付费点
8. 找到有价值的信息源【拒绝信息茧房，拒接大量无用信息】

## 数据安全

1. 使用开源的框架必须实时关注其动态，特别是安全漏洞方面  
2. 任何公开的入口，都必须进行严格的安全检查  
3. 框架的选型十分重要，必须将安全考察进去

## 技术领导力

-   尊重技术，追求核心基础技术。
-   追逐自动化的高效率的工具和技术，同时避免无效率的组织架构和管理。
-   解放生产力，追逐人效的提高。
-   开发抽象和高质量的可以重用的技术组件。
-   坚持高于社会主流的技术标准和要求。

![[../../images/boss-vs-leader.png]]

### 如何取得技术领导力

-   **扎实的基础技术**；
-   **非同一般的学习能力**；
-   **坚持做正确的事**；
-   **不断得高对自己的要求标准**；

### 具体措施

1. C语言
2. 编程范式：有助于培养编程的抽象思维，提高编程效率，提高程序的结构合理性、可读性和可维护性，降低代码的冗余度，提高代码的运行效率。要学习编程范式，可以多了解各种程序设计语言的功能特性。
3. 算法与数据结构
4. 计算机系统原理：CPU 的体系结构（指令集 [CISC/RISC]、分支预测、缓存结构、总线、DMA、中断、陷阱、多任务、虚拟内存、虚拟化等），内存的原理与性能特点（SRAM、DRAM、DDR-SDRAM 等），磁盘的原理（机械硬盘 [盘面、磁头臂、磁头、启停区、寻道等]、固态硬盘 [页映射、块的合并与回收算法、TRIM 指令等]），GPU 的原理等。
5. 操作系统原理与基础：进程、进程管理、线程、线程调度、多核的缓存一致性、信号量、物理内存管理、虚拟内存管理、内存分配、文件系统、磁盘管理等。
6. 网络基础
7. 数据库原理
8. 分布式技术架构：负载均衡、DNS 解析、多子域名、无状态应用层、缓存层、数据库分片、容错和恢复机制、Paxos、Map/Reduce 操作、分布式 SQL 数据库一致性等。

### 提升学习能力

1. 筛选信息源
2. 与大佬进行交流
3. 举一反三的思考
4. 开放的心态

### 正确的事情

1. 提高效率
2. 自动化
3. 前沿技术
4. 知识密集型
5. 技术驱动

## 技术成熟度

1. 有没有好的社区
2. 有没有工业化标准
3. 有没有杀手级应用
4. 学习难度如何
5. 有没有可以提高效率的开发框架
6. 有没有大型技术公司做后盾
7. 有没有解决软件开发中的痛点

## 如何做规划、选择

1. 客观审视自己
2. 确定自己真正想要什么
3. 长期主义
4. 关注所得
5. 避免从众

## 错误处理

- C errno
- C++ RAII (Resource Acquisition Is Initialization)
- Go multiple return value (r, err := some())
- Java try catch finally
- JavaScript Promise

### 错误处理范式

- 统一分类的错误字典
- 同类错误的定义最好是可扩展的
- 定义错误的严重程度
- 错误日志的输出最好使用错误码，而不是打印错误信息
- 忽略错误最好有日志
- 对于同一个地方不停的报错，最好不要都打印到日志中
- 不要使用错误处理逻辑来处理业务逻辑
- 对于同类的错误处理，采用相同的模式
- 尽可能在错误发生的地方处理错误
- 向上尽可能地返回原始的错误
- 处理错误时，总要清理已分配的资源
- 不推荐在循环体中处理错误
- 不要把大量的代码都放在一个try语句中
- 为你的错误定义清楚的文档以及每种错误的代码示例
- 对于异步的方式，推荐使用 Promise 模式处理错误
- 对于分布式系统，推荐使用 APM 相关软件

## 机器学习

1.  要找到数据中的规律，你需要找到数据中的特征点。
2.  把特征点抽象成数学中的向量，也就是所谓的坐标轴。一个复杂的学习可能会有成十上百的坐标轴。
3.  抽象成数学向量后，就可以通过某种数学公式来表达这类数据（就像 y=ax+b 是直线的公式），这就是数据建模。

### 监督式学习

我们需要提供一组学习样本，包括相关的特征数据以及相应的标签。程序可以通过这组样本来学习相关的规律或是模式，然后通过得到的规律或模式来判断没有被打过标签的数据是什么样的数据。

### 非监督式学习

数据是没有被标注过的，所以相关的机器学习算法需要找到这些数据中的共性。因为大量的数据是没有被标识过的，所以这种学习方式可以让大量未标识的数据能够更有价值。

## 时间管理

- **主动管理时间**
- 学会说不【四大象限】【不直接说不，有条件说是】

### 投资时间

1. 花时间学习基础知识，花时间读文档
2. 花时间在解放自己生产力的事情上
3. 花时间在让自己成长的事情上
4. 花时间在建立高效的环境上

### 规划时间

1. 定义好优先级
2. 最短作业优先
3. 想清楚再做
4. 关注长期利益规划

## 故障处理

### 系统恢复

出现故障时，最重要的不是 debug 故障，而是尽可能地减少故障的影响范围，并尽可能地修复问题

1. 重启和限流
2. 回滚操作
3. 降级操作
4. 紧急更新

### 故障前的相关准备

1. 以用户功能为索引的服务和资源的全视图
2. 为视图中的各个服务指定关键指标，以及一套运维流程和工具，应急方案
3. 设置故障的等级
    1. 1 级是全站不可用；
    2. 2 级是某功能不可用，且无替代方案；
    3. 3 级是某功能不可用，但有替代方案；
    4. 4 级是非功能性故障，或是用户不关心的故障。
4. 故障演练
5. 灰度发布系统

### 故障复盘

1. 故障处理的整个过程
2. 故障原因分析
3. 至少五个为什么
    1.  为什么从故障发生到系统报警花了 27 分钟？为什么只发邮件，没有短信？
    2.  为什么花了 15 分钟，开发的同学才知道是慢 SQL 问题？
    3.  为什么监控系统没有监测到 Nginx 499 错误，以及 Nginx 的 upstream_response_time 和 request_time？
    4.  为什么在一开始按 DDoS 处理？
    5.  为什么要重启数据库？
    6.  为什么这个故障之前没有发生？因为以前没有上首页，最近上的。
    7.  为什么上首页时没有做性能测试？
    8.  为什么使用这个高危的 SQL 语句？
    9.  上线过程中为什么没有 DBA 评审？
4. 故障后续整改计划

### 根除问题

1. 举一反三，解决当下的故障
2. 简化复杂、不合理的技术架构、流程和组织
3. 全面改善和优化整个系统、组织

## 分布式系统

1. 提高整体架构的吞吐量，服务更多的流量
2. 提高系统的稳定性，

![[../../images/architecture-comparison.png]]

### 克服分布式带来的问题

1. 分布式服务的架构需要分布式的团队架构
2. 分布式服务查错复杂
3. 开发人员做所有的事情
4. 运维优先，崇尚简化和自动化
5. 内外服务一致

### 关键指标

![[../../images/distributed-system-metrics.png]]

### 层层监控

-   **基础层**：监控主机和底层资源。比如：CPU、内存、网络吞吐、硬盘 I/O、硬盘使用等。
-   **中间层**：就是中间件层的监控。比如：Nginx、Redis、ActiveMQ、Kafka、MySQL、Tomcat 等。
-   **应用层**：监控应用层的使用。比如：HTTP 访问的吞吐量、响应时间、返回码，调用链路分析，性能瓶颈，还包括用户端的监控。

![[../../images/service-monitoring-showcase.png]]

1. 服务调用链跟踪
2. 服务调用时长分布
3. 服务的TOP N 视图
4. 数据库操作视图
5. 服务资源跟踪

## References

- [左耳听风 - 极客时间](https://time.geekbang.org/column/intro/100002201)
- [酷壳](https://coolshell.cn/)
