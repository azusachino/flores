---
doc_type: weread-highlights-reviews
bookId: MP_WXS_3863572776
author: 公众号
cover: http://wx.qlogo.cn/mmhead/Q3auHgzwzM5U0mch51VwfA2uFDWBRxibZQiaaZGm27icAm1akcHnra9KQ/0
reviewCount: 4
noteCount: 8
isbn: null
category: null
tags:
  - Book
  - Weread
created: 2022-12-05 16:39:56
modified: 2022-12-05 16:39:56
---

## bin的技术小屋

![MP_WXS_3863572776](http://wx.qlogo.cn/mmhead/Q3auHgzwzM5U0mch51VwfA2uFDWBRxibZQiaaZGm27icAm1akcHnra9KQ/0)
- 书名: bin的技术小屋
- 作者: 公众号
- 简介: 专注源码解析系列原创技术文章，分享自己的技术感悟。谈笑有鸿儒，往来无白丁。无丝竹之乱耳，无案牍之劳形。斯是陋室，惟吾德馨。
- 出版时间: 
- ISBN: 
- 分类: 
- 出版社: 

## 高亮划线

### 一步一图带你深入理解 Linux 虚拟内存管理


> [!quote] ⏱ 2022-11-28 14:56:35
> 以 Intel Core i7 处理器为例，64 位虚拟地址的格式为：全局页目录项（9位）+ 上层页目录项（9位）+ 中间页目录项（9位）+ 页表项（9位）+ 页内偏移（12位）。共 48 位组成的虚拟内存地址。
 


> [!quote] ⏱ 2022-11-28 14:58:48
> 程序局部性原理表现为：时间局部性和空间局部性。时间局部性是指如果程序中的某条指令一旦执行，则不久之后该指令可能再次被执行；如果某块数据被访问，则不久之后该数据可能再次被访问。空间局部性是指一旦程序访问了某个存储单元，则不久之后，其附近的存储单元也将被访问。
 

 

 

 

 


> [!quote] ⏱ 2022-11-28 18:04:09
> 0x0000 0000 到 0x0804 8000 这段虚拟内存地址是一段不可访问的保留区，因为在大多数操作系统中，数值比较小的地址通常被认为不是一个合法的地址，这块小地址是不允许访问的。
 


> [!quote] ⏱ 2022-11-28 18:05:55
> 在内核中使用 start_stack 标识栈的起始位置，RSP 寄存器中保存栈顶指针 stack pointer，RBP 寄存器中保存的是栈基地址。
 



## 读书笔记


### 一步一图带你深入理解 Linux 虚拟内存管理

#### 划线评论 No.1 ⏱ 2022-11-28 18:03:00

> [!quote]
> 用于存放进程程序二进制文件中的机器指令的代码段
用于存放程序二进制文件中定义的全局变量和静态变量的数据段和 BSS 段。
用于在程序运行过程中动态申请内存的堆。
用于存放动态链接库以及内存映射区域的文件映射与匿名映射区。
用于存放函数调用过程中的局部变量和函数参数的栈。

用户态空间组成部分

#### 划线评论 No.2 ⏱ 2022-11-28 18:01:12

> [!quote]
> 那些没有指定初始值的全局变量和静态变量在虚拟内存空间中的存储区域我们叫做 BSS 段。这些未初始化的全局变量被加载进内存之后会被初始化为 0 值。

Better save storage area

#### 划线评论 No.3 ⏱ 2022-11-28 15:08:25

> [!quote]
> 为了防止多进程运行时造成的内存地址冲突，内核引入了虚拟内存地址，为每个进程提供了一个独立的虚拟内存空间，使得进程以为自己独占全部内存资源。

虚址的主要用途

#### 划线评论 No.4 ⏱ 2022-11-28 15:04:44

> [!quote]
> 根据程序局部性原理，在某一段时间内，进程真正需要的物理内存其实是很少的一部分，我们只需要为每个进程分配很少的物理内存就可以保证进程的正常执行运转。

可执行文件中各个段的地址也是固定的，虚拟地址才能保证多个进程可以同时被加载。

 



## 本书评论

